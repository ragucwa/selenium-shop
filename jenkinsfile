pipeline{
    agent any
    stages{
        stage('Build docker image'){
            steps{
                bat 'docker build -t guttekkk/selenium-training .'
            }
        }
        stage('Push docker image to docker hub'){
            steps{
                withCredentials([usernameColonPassword(credentialsId: 'docker_hub', variable: 'DOCKER_HUB')]) {
                    bat 'echo %DOCKER_HUB% | docker login --username %DOCKER_HUB% --password-stdin'
                    bat 'docker push guttekkk/selenium-training'
                }
        }
    }
}
}
